function getQueryString(n){var i=new RegExp("(^|&)"+n+"=([^&]*)(&|$)","i"),t=window.location.search.substr(1).match(i);return t!=null?t[2]:null}function getENV(){var r=this,u=location.href.split("?")[0].split("#")[0],n=r.getQueryString("env")||localStorage.getItem("_env_"),i={pbENV:"prod",ENV:"prod"},t;return n||(t=/\/(beta|pre|audit|staging|prod|alpha)\//.exec(u),n=t&&t.length===2?t[1]:"prod"),/pre|audit|staging|beta|audit|prod/.test(n)&&(i={pbENV:n,ENV:n==="prod"?"prod":n==="alpha"?"alpha":"beta"}),i}function getAppVersion(n){var r=navigator.userAgent,u=new RegExp(n,"i"),i=r.split(u),t;return i.length===2?(t=i[1].match(/\d+(\.\d+)*/),t?t[0]:0):0}function getVersion(n,t){var i=null;if(window.XMLHttpRequest&&!window.ActiveXObject)i=new XMLHttpRequest;else if(window.ActiveXObject)try{i=new ActiveXObject("Microsoft.XMLHTTP")}catch(r){try{i=new ActiveXObject("Msxml2.XMLHTTP")}catch(u){i=null}}return i.onreadystatechange=function(){if(i.readyState==4)if(i.status==200||i.status==0){var n=i.responseText;t&&t(n,i);i=null}else error&&error()},i.open("GET",n,!0),i.send(null),i}function getAbsoluteURL(n){var i=document.createElement("a"),t="",r=location.pathname;return/^\/{2,}/.test(r)&&r===n?n=n.replace(/^\/{2,}/,"/"):r==="/"&&(n="/index.html"),i.href=n,t=i.href,t=t.replace(/[\/]+[\/]/g,"/").replace(":/","://"),i=null,t}function getClearCacheUrl(n,t,i){var t=(t||"_t")+"=",s=new RegExp(t+"(\\d+\\.)*\\d+"),f=i||+new Date,e;if(n.indexOf(t)>-1)return n.replace(s,t+f);var r=[],u=n.split("#"),o=u[0],h=u[1]?"#"+u[1]:"";return o.indexOf("?")>-1?(e=o.split("?"),r.push(e[0]),r.push("?"+t+f),r.push("&"+e[1])):(r.push(u[0]),r.push("?"+t+f)),r.push(h),r.join("")}function checkWebp(){var t="browser-webp-supported",n;return Number(localStorage.getItem(t))===1?!0:(n=!![].map&&document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")==0,n&&localStorage.setItem(t,1),n)}function parsingPath(n,t,i,r,u,f,e,o){var s,h;return(e=e||window.OSSDOMAIN,o=o||window.CDNDOMAIN,/^(https?:|\/\/)/i.test(n))?n:(t=t||0,i=i||120,r=r||120,u||(u=!f&&checkWebp()?"webp":"jpg"),/^upload\/[a-z]+?\/icon\//i.test(n))?(s="x-oss-process=image/resize,w_"+i+",h_"+r+"//format,"+u,h=n.indexOf("?")>-1?"&":"?",!f)?e+"/"+n+h+s:e+"/"+n:/^\/?(beta|alpha|prod|pre|aut)\/resources\//g.test(n)?(s="x-oss-process=image/resize,w_"+i+",h_"+r+"//format,"+u,h=n.indexOf("?")>-1?"&":"?",!f)?e+"/"+n+h+s:e+"/"+n:/^[0-9a-z]+$/i.test(n)?o+"/upload/icon/"+n.substring(0,2)+"/"+n.substring(0,4)+"/"+n+"_"+t+".jpg":n}function parsingGiftPath(n,t,i,r){if(i=i||window.OSSDOMAIN,r=r||window.CDNDOMAIN,/^(https?:|\/\/)/i.test(n))return n;if(/\/resources\//i.test(n)){var u=n.indexOf("?")>-1?"&":"?";return!t&&checkWebp()?i+"/"+n+u+"x-oss-process=image/format,webp":i+"/"+n}return/\/upload\/admin\//i.test(n)?r+"/"+n:n}function interceptStr(n,t,i){var a=/[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF][\u200D|\uFE0F]|[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF]|[0-9|*|#]\uFE0F\u20E3|[0-9|#]\u20E3|[\u203C-\u3299]\uFE0F\u200D|[\u203C-\u3299]\uFE0F|[\u2122-\u2B55]|\u303D|[\A9|\AE]\u3030|\uA9|\uAE|\u3030/gi,h=n?n.split(""):[],f=[],v,e=0,o=0,y=0,u=[],s,r,c,l;if(i=typeof i!="undefined"?i:"...",t=t*2,!n)return n;while((v=a.exec(n))!==null){var p=v[0],w=p.length,b=a.lastIndex-w;f.push({word:p,startIndex:b,wordLen:w})}for(r=0;r<h.length;r++)if(!(o>r)){for(s=[],r=0;r<f.length;r++)c=f[r],y++,c.startIndex==o&&s.push(c);if(s.length>0){if(e+=2,e>t){u.push(i);break}l=s[0];f.splice(y,1);o+=Number(l.wordLen);u.push(l.word)}else{if(e+=/[\x00-\xff]+/g.test(h[r])?1:2,e>t){u.push(i);break}u.push(h[r]);o+=1}}return u.join("")}(function(){var i=navigator.userAgent.toLowerCase(),n=null,t;(i.indexOf("iphone")>=0||i.indexOf("ipad")>=0)&&(document.addEventListener("touchmove",function(n){n.touches.length>1&&n.preventDefault()},{passive:!1}),document.addEventListener("touchend",function(t){var i=(new Date).getTime(),r;if(n=n||i+1,r=i-n,r<500&&r>0)return t.preventDefault(),!1;n=i},{passive:!1}),document.addEventListener("gesturestart",function(n){n.preventDefault()},{passive:!1}));window.webVer&&(t=getAbsoluteURL(location.pathname),t+="?t="+(new Date).getTime(),getVersion(t,function(n){if(n){var t=n.toString().match(/window\.webVer\s*=\s*('|")(.*?)\1/);t&&(t=t[2]);console.log("v"+t);window.webVer!=t&&location.replace(getClearCacheUrl(location.href,"_t",t))}}))})();